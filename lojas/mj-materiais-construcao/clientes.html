<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPDVI - Produtos para Clientes</title>
    <link rel="stylesheet" href="clientes.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Swiper CSS para o carrossel -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="main-header">
            <div class="header-left">
                <div class="logo">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Crect width='60' height='60' fill='%230056b3'/%3E%3Ctext x='30' y='40' font-family='Arial' font-size='24' fill='white' text-anchor='middle'%3E游낅%3C/text%3E%3C/svg%3E" 
                         alt="Logo da Loja" 
                         class="logo-img" 
                         id="lojaLogo">
                    <div>
                        <h1 id="lojaNomeHeader">Sistema Ponto de Vendas Integrado</h1>
                        <p class="subtitle">Loja Online</p>
                    </div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="user-info">
                    <span id="userName">Visitante</span>
                    <button id="btnLogout" class="btn-logout" style="display: none;">
                        <i class="fas fa-sign-out-alt"></i>
                        Sair
                    </button>
                    <button id="btnLogin" class="btn-login">
                        <i class="fas fa-sign-in-alt"></i>
                        Entrar
                    </button>
                </div>
                <div class="header-info">
                    <span id="lojaLocal"></span>
                </div>
            </div>
        </header>

        <!-- Barra de Pesquisa e Carrinho -->
        <div class="search-bar-container">
            <div class="search-wrapper">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="searchProductInput" placeholder="O que voc칡 est치 procurando?" autocomplete="off">
                <button class="btn-scan" id="btnScanCode" title="Ler c칩digo de barras">
                    <i class="fas fa-barcode"></i>
                </button>
                <button class="btn-cart-header" id="btnGoToCart">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-badge" id="cartBadge">0</span>
                </button>
            </div>
        </div>

        <!-- Categorias -->
        <div class="categories-section">
            <h2><i class="fas fa-tags"></i> Categorias</h2>
            <div class="categories-grid" id="categoriesGrid">
                <!-- Categorias ser칚o carregadas via JS -->
                <div class="loading-categories">
                    <div class="spinner"></div>
                    <p>Carregando categorias...</p>
                </div>
            </div>
        </div>

        <!-- Produtos em Destaque com Carrossel -->
        <div class="featured-products">
            <h2><i class="fas fa-star"></i> Produtos em Destaque</h2>
            <div class="carousel-container">
                <button class="carousel-arrow prev" id="carouselPrev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="swiper featured-swiper">
                    <div class="swiper-wrapper" id="featuredProducts">
                        <!-- Produtos ser칚o carregados via JS -->
                    </div>
                </div>
                <button class="carousel-arrow next" id="carouselNext">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>

        <!-- Modal de Consulta R치pida -->
        <div id="quickSearchModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>
                        <i class="fas fa-search"></i> 
                        Consulta R치pida
                    </h3>
                    <button class="modal-close" title="Fechar (ESC)">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="modal-body">
                    <!-- SEARCH BOX COM BOT칏ES -->
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        
                        <input 
                            type="text" 
                            id="searchProductInputModal" 
                            placeholder="C칩digo, nome ou categoria do produto" 
                            autocomplete="off" 
                            spellcheck="false"
                        >
                        
                        <!-- BOT츾O LIMPAR (X) -->
                        <button class="search-clear" id="searchClearModal" title="Limpar busca">
                            <i class="fas fa-times"></i>
                        </button>
                        
                        <!-- BOT츾O SCAN -->
                        <button class="btn-scan" id="btnScanCodeModal" title="Ler c칩digo de barras">
                            <i class="fas fa-barcode"></i>
                        </button>
                    </div>
                    
                    <!-- FILTROS R츼PIDOS -->
                    <div class="search-filters">
                        <button class="filter-btn active" data-filter="all">
                            <i class="fas fa-list"></i> Todos
                        </button>
                        <button class="filter-btn" data-filter="estoque">
                            <i class="fas fa-check-circle"></i> Em estoque
                        </button>
                        <button class="filter-btn" data-filter="destaque">
                            <i class="fas fa-star"></i> Destaques
                        </button>
                    </div>
                    
                    <!-- DICA DE ATALHO -->
                    <div class="search-tip">
                        <i class="fas fa-lightbulb"></i>
                        Dica: Use o leitor de c칩digo de barras ou digite o c칩digo manualmente
                        <span class="shortcut">Ctrl+K</span>
                    </div>
                    
                    <!-- RESULTADOS DA BUSCA -->
                    <div class="search-results" id="searchResultsModal">
                        <div class="empty-results">
                            <i class="fas fa-search"></i>
                            <p>Digite para buscar um produto</p>
                            <small>Busque por c칩digo, nome, categoria ou use o leitor de c칩digo de barras</small>
                        </div>
                    </div>

                    <!-- INDICADOR DE SCAN ATIVO -->
                    <div id="scanIndicatorModal" class="scan-indicator" style="display: none;">
                        <i class="fas fa-barcode fa-spin"></i>
                        <span>Modo scan ativo - Aponte o leitor para o c칩digo de barras</span>
                        <button class="btn-stop-scan" onclick="window.gerenciadorCodigoBarrasClientes?.desativarModoScan()">
                            <i class="fas fa-stop"></i> Parar
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal de Login do Cliente -->
        <div id="loginModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-sign-in-alt"></i> Login do Cliente</h3>
                    <button class="modal-close" onclick="fecharModal('loginModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="login-form">
                        <div class="form-group">
                            <label><i class="fas fa-user"></i> Login</label>
                            <input type="text" id="loginUsuario" placeholder="Digite seu login">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-lock"></i> Senha</label>
                            <input type="password" id="loginSenha" placeholder="Digite sua senha">
                        </div>
                        <div class="login-options">
                            <label class="checkbox-label">
                                <input type="checkbox" id="loginLembrar"> Lembrar login
                            </label>
                            <a href="#" class="forgot-password" id="forgotPasswordCliente">Esqueci a senha</a>
                        </div>
                        <button class="btn-login-confirm" id="btnConfirmarLogin">
                            <i class="fas fa-sign-in-alt"></i> Entrar
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal de Cadastro de Cliente -->
        <div id="cadastroModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-user-plus"></i> Cadastro de Cliente</h3>
                    <button class="modal-close" onclick="fecharModal('cadastroModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="cadastro-form">
                        <div class="form-group">
                            <label><i class="fas fa-user"></i> Nome Completo *</label>
                            <input type="text" id="cadastroNome" placeholder="Digite seu nome completo">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-envelope"></i> E-mail *</label>
                            <input type="email" id="cadastroEmail" placeholder="Digite seu e-mail">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-phone"></i> Telefone *</label>
                            <input type="text" id="cadastroTelefone" placeholder="(00) 00000-0000">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-id-card"></i> CPF *</label>
                            <input type="text" id="cadastroCpf" placeholder="000.000.000-00">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-user"></i> Login *</label>
                            <input type="text" id="cadastroLogin" placeholder="Escolha um login">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-lock"></i> Senha *</label>
                            <input type="password" id="cadastroSenha" placeholder="Crie uma senha">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-lock"></i> Confirmar Senha *</label>
                            <input type="password" id="cadastroConfirmarSenha" placeholder="Confirme sua senha">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-map-marker-alt"></i> Endere칞o</label>
                            <input type="text" id="cadastroEndereco" placeholder="Rua, n칰mero, bairro">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-city"></i> Cidade</label>
                            <input type="text" id="cadastroCidade" placeholder="Cidade">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-map-pin"></i> CEP</label>
                            <input type="text" id="cadastroCep" placeholder="00000-000">
                        </div>
                        <div class="form-group terms">
                            <label class="checkbox-label">
                                <input type="checkbox" id="cadastroTermos"> 
                                <span>Li e aceito os <a href="#" id="termosLink">termos de uso</a></span>
                            </label>
                        </div>
                        <button class="btn-cadastro-confirm" id="btnConfirmarCadastro">
                            <i class="fas fa-check"></i> Cadastrar
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal de Produto Detalhado -->
        <div id="produtoModal" class="modal">
            <div class="modal-content modal-lg">
                <div class="modal-header">
                    <h3><i class="fas fa-box"></i> Detalhes do Produto</h3>
                    <button class="modal-close" onclick="fecharModal('produtoModal')">&times;</button>
                </div>
                <div class="modal-body" id="produtoModalBody">
                    <!-- Conte칰do carregado dinamicamente -->
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="main-footer">
            <div class="footer-content">
                <!-- Logo e Nome da Loja -->
                <div class="footer-brand">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%230056b3'/%3E%3Ctext x='20' y='28' font-family='Arial' font-size='20' fill='white' text-anchor='middle'%3E游낅%3C/text%3E%3C/svg%3E" 
                         alt="Logo" 
                         class="footer-logo" 
                         id="footerLogo">
                    <span id="lojaNomeFooter">Sistema PDV</span>
                </div>
        
                <!-- Contatos -->
                <div class="footer-contacts">
                    <h4>Atendimento</h4>
                    <div class="contact-grid" id="contactGrid">
                        <!-- Contatos ser칚o inseridos aqui pelo JavaScript -->
                        <div class="loading-contacts">
                            <div class="spinner-small"></div>
                        </div>
                    </div>
                </div>
        
                <!-- Endere칞o -->
                <div class="footer-address">
                    <h4>Endere칞o</h4>
                    <div id="addressGrid">
                        <!-- Endere칞o ser치 inserido aqui pelo JavaScript -->
                        <div class="loading-address">
                            <div class="spinner-small"></div>
                        </div>
                    </div>
                </div>
        
                <!-- Chat -->
                <div class="footer-chat">
                    <h4>Precisa de ajuda?</h4>
                    <div class="chat-button" id="chatButton">
                        <div class="chat-icon">
                            <img src="/spdv/imagens/chat.png" alt="Chat" 
                                 onerror="this.src='/spdv/imagens/placeholder-icon.png'">
                        </div>
                        <div class="chat-text">Chat Online</div>
                    </div>
                </div>
            </div>
        
            <!-- Copyright -->
            <div class="footer-bottom">
                <p>&copy; 2026 <span id="lojaNomeCopyright">SPDVI</span> - Todos os direitos reservados</p>
                <p id="connectionStatus"><i class="fas fa-circle"></i> <span id="statusText">Conectado</span></p>
            </div>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h3 id="loadingMessage">Carregando...</h3>
        </div>
    </div>

    <!-- Message Alert -->
    <div id="messageAlert" class="message-alert">
        <div class="message-content">
            <i class="message-icon"></i>
            <span class="message-text"></span>
        </div>
        <button class="message-close" onclick="this.parentElement.style.display='none'">칑</button>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script type="module" src="/spdv/lojas.js"></script>
    <script type="module" src="clientes.js"></script>
</body>
</html>




